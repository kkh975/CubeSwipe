/*!*
 * @method: 슬라이더 플러그인
 * @autor: Blim - Koo Chi Hoon(kkh975@naver.com)
 */
(function(a){a.fn.slideCubeSwipe=function(b){b.$list=b.$list?b.$list:a(this).find("> ul > li");b.$wrap=b.$wrap?b.$wrap:a(this).find("> ul");b.list=b.$list?b.$list.toArray():[];b.wrap=b.$wrap?b.$wrap.toArray():[];b.pages=b.$pages?b.$pages.toArray():[];b.toStart=b.$toStart?b.$toStart.toArray():[];b.toStop=b.$toStop?b.$toStop.toArray():[];b.toPrev=b.$toPrev?b.$toPrev.toArray():[];b.toNext=b.$toNext?b.$toNext.toArray():[];return this.each(function(){a(this).data("scs",new SlideCubeSwipe(b))})};a.fn.slideCubeSwipe2start=function(){return this.each(function(){a(this).data("scs").startSlideShow()})};a.fn.slideCubeSwipe2stop=function(){return this.each(function(){a(this).data("scs").stopSlideShow()})};a.fn.slideCubeSwipe2prev=function(){return this.each(function(){a(this).data("scs").toPrev()})};a.fn.slideCubeSwipe2next=function(){return this.each(function(){a(this).data("scs").toNext()})};a.fn.slideCubeSwipe2toSlide=function(b){return this.each(function(){a(this).data("scs").toSlide(b)})};a.fn.slideSwipe2destory=function(b){return this.each(function(){a(this).data("scs").destory()})}}(jQuery));function SlideCubeSwipe(c){var n=["transitionEnd","transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],u=["animationEnd","MSAnimationEnd","oanimationEnd","webkitAnimationEnd"],f=["","-ms-","-o-","-moz-","-webkit-"],v=["","-o-","-moz-","-webkit-"],J=["","-ms-","-o-","-moz-","-webkit-"];var S=90,e=null,P=null,r=null,d=null,X=null,j=null,s=null,p=null,E=null,i=null,b=null,F=false,C=false,h=false,R=false,m=0,x=0,B=[],N=0,L=0;var T={list:[],wrap:[],pages:[],toStart:[],toStop:[],toPrev:[],toNext:[],startEvents:"click",stopEvents:"click",moveEvents:"click",pageEvents:"click",slideShowTime:false,touchMinumRange:10,loop:true,duration:1000,create:null,before:null,active:null};var k={extend:function(Z,aa){var ac=null,ab={};for(ac in Z){ab[ac]=ac in aa?aa[ac]:Z[ac]}return ab},isArray:function(Z){if(Z){return Object.prototype.toString.call(Z)==="[object Array]"}return false},trim:function(Z){return Z.replace(/(^\s*)|(\s*$)/gi,"")},dom2Array:function(ac){var aa=[],Z=0,ab=0;if(ac&&ac.hasOwnProperty("length")){for(ab=0;ab<ac.length;ab++){aa.push(ac[ab])}}else{aa.push(ac)}return aa},setBtnEvent:function(ac,af,aa){var ae=af.split(","),ad=ae.length,Z=ac.length,ab="";while(--ad>-1){while(--Z>-1){ab=k.trim(ae[ad]);(function(ag){ac[Z].addEventListener(ab,function(ah){aa(ag);ah.preventDefault()})}(Z))}}}};var y={getAnimateRuleTxt:function(ab,ag,aa){var ad=v,af=f,ac=ad.length,ae=0,Z="";while(--ac>-1){ae=af.length;Z+="@"+ad[ac]+"keyframes "+ab+"{";Z+="from {";while(--ae>-1){Z+=af[ae]+"transform: ";Z+="rotateY("+ag+"deg) ";Z+="translateZ("+N+"px);"}ae=af.length;Z+="}";Z+="to {";while(--ae>-1){Z+=af[ae]+"transform: ";Z+="rotateY("+aa+"deg) ";Z+="translateZ("+N+"px);"}Z+="}";Z+="}"}return Z},setAnimate:function(ae,ac,ad){var ab=v,aa=ab.length,Z=ae.style;while(--aa>-1){Z.setProperty(ab[aa]+"animation",ac+" "+ad+"ms")}},removeAnimate:function(ae){var ab=v,aa=ab.length,Z=ae.style,ac=Z.cssText,ad=null;while(--aa>-1){Z[ab[aa]+"animation"]=""}},setAnimateEnd:function(ac,ab){var aa=u,Z=aa.length;while(--Z>-1){ac.addEventListener(aa[Z],ab,false)}},removeAnimateEnd:function(ac,ab){var aa=u,Z=aa.length;while(--Z>-1){ac.removeEventListener(aa[Z],ab,false)}},setTransit:function(ae,ac,ad){var ab=f,aa=ab.length,Z=ae.style;while(--aa>-1){Z.setProperty(ab[aa]+"transform","rotateY("+ac+"deg) translateZ("+N+"px)");Z.setProperty(ab[aa]+"transition",(ad?ad:0)+"ms")}},setTransitList:function(ad,ac,ab){var ae=0,Z=0,aa=0;for(aa=0;aa<x;aa++){ae=B[aa];if(ac){ae+=ac}if(ad){B[aa]=ae}y.setTransit(d[aa],ae,ab)}},setTransitEnd:function(ac,ab){var aa=n,Z=aa.length;while(--Z>-1){ac.addEventListener(aa[Z],ab,false)}},removeTransitEnd:function(ac,ab){var aa=n,Z=aa.length;while(--Z>-1){ac.removeEventListener(aa[Z],ab,false)}},setCommonRule:function(af,ae,ac,ad){var ab=af.style,aa=null,Z=0;if(ad){aa=ad;Z=aa.length;ab=af.style;while(--Z>-1){ab.setProperty(aa[Z]+ae,ac)}}else{ab.setProperty(ae,ac)}}};var G={is_touch_start:false,touch_start_x:0,touch_start_y:0,move_dx:0,setInitVaiable:function(){G.is_touch_start=false;G.touch_start_x=0;G.touch_start_y=0;G.move_dx=0},canPrevMove:function(){if(!e.loop&&Y()===-1){return false}return true},canNextMove:function(){var aa=l(),Z=(F?x-2:x)-1;if(!e.loop&&(aa===-1||aa>Z)){return false}return true},setStart:function(Z){if(G.is_touch_start||R){return false}K();if(!G.is_touch_start&&Z.type==="touchstart"&&Z.touches.length===1){G.is_touch_start=true;G.touch_start_x=Z.touches[0].pageX;G.touch_start_y=Z.touches[0].pageY}},setMove:function(aa){var Z=0,ab=0;if(G.is_touch_start&&aa.type==="touchmove"&&aa.touches.length===1){Z=aa.touches[0].pageX-G.touch_start_x;ab=aa.touches[0].pageY-G.touch_start_y;G.move_dx=(Z/m)*100;if(Math.abs(Z)>Math.abs(ab)){G.move_dx=Math.max(-S,Math.min(S,G.move_dx));y.setTransitList(false,G.move_dx);aa.preventDefault()}}},setEnd:function(ae){var aa=Math.abs(G.move_dx)>e.touchMinumRange,ac=G.move_dx<0,ab=ac?G.canNextMove():G.canPrevMove(),ad=0,af=0,Z=0;if(G.is_touch_start&&ae.type==="touchend"&&ae.touches.length===0){if(aa&&ab){ad=Math.floor((G.move_dx/100)*e.duration);ad=e.duration-Math.abs(ad);ad=Math.max(0,Math.min(e.duration,ad));af=ac?-S:S;Z=Q();W(ac?Z+1:Z-1)}else{ad=e.duration;af=0}y.setTransitList(true,af,e.duration);G.setInitVaiable();ae.preventDefault()}}};function t(){var Z=null;if(typeof window.addEventListener!=="function"){return false}return true}function a(){e=k.extend(T,c);r=k.isArray(e.wrap)?e.wrap:k.dom2Array(e.wrap);X=k.isArray(e.pages)?e.pages:k.dom2Array(e.pages);j=k.isArray(e.toStart)?e.toStart:k.dom2Array(e.toStart);s=k.isArray(e.toStop)?e.toStop:k.dom2Array(e.toStop);p=k.isArray(e.toPrev)?e.toPrev:k.dom2Array(e.toPrev);E=k.isArray(e.toNext)?e.toNext:k.dom2Array(e.toNext);r=r[0];P=r.parentNode;e.touchMinumRange=Math.max(1,Math.min(100,e.touchMinumRange));if(e.slideShowTime){if(typeof e.slideShowTime==="boolean"){C=h=e.slideShowTime;if(C){e.slideShowTime=3000}}if(typeof e.slideShowTime==="string"){e.slideShowTime=parseInt(e.slideShowTime,10)}if(isNaN(e.slideShowTime)){C=h=false}else{C=h=true;if(e.duration*2>=e.slideShowTime){e.slideShowTime=e.duration*2}}}if(j){k.setBtnEvent(j,e.startEvents,function(){h=true;V()})}if(s){k.setBtnEvent(s,e.stopEvents,function(){h=false;A()})}if(p){k.setBtnEvent(p,e.moveEvents,U)}if(E){k.setBtnEvent(E,e.moveEvents,z)}if(X){k.setBtnEvent(X,e.moveEvents,function(Z){q(Z)})}window.addEventListener("load",I,false);P.addEventListener("touchstart",G.setStart);P.addEventListener("touchmove",G.setMove);P.addEventListener("touchend",G.setEnd);P.addEventListener("touchcancel",G.setEnd);return true}function I(){var aa="",ac=0,Z=0,ab=0;m=P.offsetWidth;N=m/2;P.style.background="#fff";y.setCommonRule(P,"perspective",(m*2)+"px",f);r.style.cssText="position: relative; width: 100%; height: 100%; ";y.setCommonRule(r,"transform-style","preserve-3d",f);y.setCommonRule(r,"transform","scale(0.75)",f);aa=y.getAnimateRuleTxt("next-to-now",S,0);aa+=y.getAnimateRuleTxt("now-to-prev",0,-S);aa+=y.getAnimateRuleTxt("prev-to-now",-S,0);aa+=y.getAnimateRuleTxt("now-to-next",0,S);i=document.createElement("style");i.setAttribute("type","text/css");i.innerHTML=aa;P.appendChild(i);M(e.list);y.setTransitList();V();if(typeof e.create==="function"){e.create(Q())}}function M(ae){var ac=null,ab="",ad=[],ag=0,aa=0,Z=0,af=-1;d=k.isArray(ae)?ae:k.dom2Array(ae);x=aa=d.length;if(x<2){return false}if(x===2&&e.loop){ac=d[0].cloneNode(true);d.push(ac);r.appendChild(ac);ac=d[1].cloneNode(true);d.push(ac);r.appendChild(ac);F=true;x=aa=4}while(++af<aa){ag=e.loop&&x-1===af?-S:S*af;ad.push(ag);ab="position: absolute; width: 100%; height: 100%; ";ab+="visibility: "+(2>af||x-1===af?"visible":"hidden");d[af].style.cssText=ab;d[af].setAttribute("data-mark","s4s-item");ab="rotateY("+ag+"deg) ";ab+="translateZ("+N+"px) ";y.setCommonRule(d[af],"backfaceVisibility","visible",f);y.setCommonRule(d[af],"transform",ab,f);y.setCommonRule(d[af],"user-select","none",J);d[af].addEventListener("focus",A,false);d[af].addEventListener("blur",V,false);y.setTransitEnd(d[af],H);y.setAnimateEnd(d[af],D)}B=ad.slice();y.setTransitList()}function g(){P.removeChild(i);window.removeEventListener("load",I,false);P.removeEventListener("touchstart",G.setStart);P.removeEventListener("touchmove",G.setMove);P.removeEventListener("touchend",G.setEnd);P.removeEventListener("touchcancel",G.setEnd);while(--idx>-1){d[idx].removeEventListener("focus",A,false);d[idx].removeEventListener("blur",V,false);y.removeTransitEnd(d[idx],H);y.removeAnimateEnd(d[idx],D)}}function V(){if(C&&h&&b===null){b=setInterval(z,e.slideShowTime)}}function A(){clearInterval(b);b=null}function o(){m=P.offsetWidth;N=m/2;k.setCss3(P,"perspective",(m*2)+"px")}function Q(){return L}function W(Z){if(Z<0){L=e.loop?x-1:L}else{if(Z>x-1){L=e.loop?0:L}else{L=Z}}}function Y(){var Z=Q();if(--Z<0){Z=e.loop?x-1:-1}return Z}function l(){var Z=Q();if(++Z>x-1){Z=e.loop?0:-1}return Z}function U(){q(Y(),"prev")}function z(){q(l(),"next")}function q(ab,aa){var Z=Q(),ad=ab-Z,ac=arguments.length===1;if(R){return false}if(ab===Z){return false}if(ab<0||ab>x-1){return false}if(F&&ac&&(ab>1||ab%2===Z%2)){return false}if(typeof aa==="undefined"){aa=ad>0?"next":"prev"}if(F&&ac&&(ab%2===1&&Z%2===0)){aa="next"}W(ab);O(Z,ab);w(Z,ab,aa)}function O(Z,ab){var aa=x;K();if(typeof e.before==="function"){e.before(F?Q()%2:Q())}while(--aa>-1){d[aa].style.visibility=(aa===Z||aa===ab)?"visible":"hidden"}}function w(Z,ab,aa){y.setAnimate(d[Z],aa==="next"?"now-to-prev":"now-to-next",e.duration);y.setAnimate(d[ab],aa==="next"?"next-to-now":"prev-to-now",e.duration)}function D(Z){y.removeAnimate(Z.target);H()}function K(){R=true;A()}function H(){var aa=Q(),ac=Y(),ab=l(),Z=x;B[aa]=0;if(ac!==-1){B[ac]=-S}if(ab!==-1){B[ab]=S}while(--Z>-1){d[Z].style.visibility=(Z===aa||Z===ac||Z===ab)?"visible":"hidden"}y.setTransitList();V();R=false;if(typeof e.active==="function"){e.active(F?Q()%2:Q())}}if(t()&&a()){return{startSlideShow:V,stopSlideShow:A,refreshSize:o,getIdx:Q,toNext:z,toPrev:U,toSlide:q,destory:g}}};